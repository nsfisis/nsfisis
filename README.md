```ruby
s = '
+++++ +++++
[
  > +++++ +++++ + > +++++ +++++ +
  > +++++ +++++ > +++++ +++++
  <<<< -
]
> . > +++++ . >> ++ . < +++++ . < . > . < .
'

m=[c=p=0,0,0,0,0];(k=s[c])=='>'?p+=1:k=='<'?p-=1:
k=='+'?m[p]+=1:k=='-'?m[p]-=1:k=='.'?putc(m[p]):
k=='['?(0until s[c+=1]==']'if m[p]==0):
k==']'?(0until s[c-=1]=='['if m[p]!=0):0while s[c+=1]
```
